{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\LENOVO\\\\OneDrive\\\\Desktop\\\\HCI\\\\src\\\\contexts\\\\AuthContext.jsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { createContext, useContext, useState, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AuthContext = /*#__PURE__*/createContext(null);\n\n// ── Mock user database ──────────────────────────────────────\nconst MOCK_USERS = [{\n  id: 'admin-001',\n  name: 'Dr. Sarah Mitchell',\n  email: 'admin@medcare.com',\n  password: 'admin123',\n  role: 'admin',\n  department: 'Administration',\n  avatar: 'SM',\n  employeeId: 'ADM-001',\n  phone: '+1 (555) 001-0001'\n}, {\n  id: 'staff-001',\n  name: 'Dr. James Okafor',\n  email: 'staff@medcare.com',\n  password: 'staff123',\n  role: 'staff',\n  department: 'Cardiology',\n  avatar: 'JO',\n  employeeId: 'DOC-042',\n  specialization: 'Cardiologist',\n  phone: '+1 (555) 002-0042'\n}, {\n  id: 'patient-001',\n  name: 'Ava Thompson',\n  email: 'patient@medcare.com',\n  password: 'patient123',\n  role: 'patient',\n  avatar: 'AT',\n  patientId: 'PAT-20890',\n  dateOfBirth: '1990-03-15',\n  bloodGroup: 'O+',\n  phone: '+1 (555) 100-2089',\n  address: '142 Maple Street, Chicago, IL 60601',\n  emergencyContact: {\n    name: 'Robert Thompson',\n    relation: 'Spouse',\n    phone: '+1 (555) 100-9999'\n  },\n  insurance: {\n    provider: 'BlueCross BlueShield',\n    policyNo: 'BCB-7734-2090',\n    validity: '2025-12-31'\n  }\n}];\n\n// ── Helpers ─────────────────────────────────────────────────\nconst STORAGE_KEY = 'medcare_auth';\nfunction loadSession() {\n  try {\n    const raw = localStorage.getItem(STORAGE_KEY);\n    return raw ? JSON.parse(raw) : null;\n  } catch {\n    return null;\n  }\n}\nfunction saveSession(user) {\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(user));\n}\nfunction clearSession() {\n  localStorage.removeItem(STORAGE_KEY);\n}\n\n// ── Provider ─────────────────────────────────────────────────\nexport function AuthProvider({\n  children\n}) {\n  _s();\n  const [user, setUser] = useState(() => loadSession());\n  const [loading, setLoading] = useState(false);\n\n  // Keep localStorage in sync\n  useEffect(() => {\n    if (user) saveSession(user);else clearSession();\n  }, [user]);\n\n  // ── login ────────────────────────────────────────────────\n  const login = async (email, password) => {\n    setLoading(true);\n    await new Promise(r => setTimeout(r, 700)); // simulate network\n\n    const found = MOCK_USERS.find(u => u.email.toLowerCase() === email.toLowerCase() && u.password === password);\n    setLoading(false);\n    if (!found) {\n      return {\n        success: false,\n        error: 'Invalid email or password. Please try again.'\n      };\n    }\n    const {\n      password: _pw,\n      ...safeUser\n    } = found;\n    setUser(safeUser);\n    return {\n      success: true,\n      user: safeUser\n    };\n  };\n\n  // ── register ─────────────────────────────────────────────\n  const register = async ({\n    name,\n    email,\n    password,\n    role\n  }) => {\n    setLoading(true);\n    await new Promise(r => setTimeout(r, 800));\n    const exists = MOCK_USERS.find(u => u.email.toLowerCase() === email.toLowerCase());\n    setLoading(false);\n    if (exists) {\n      return {\n        success: false,\n        error: 'An account with this email already exists.'\n      };\n    }\n    const newUser = {\n      id: `${role}-${Date.now()}`,\n      name,\n      email,\n      role,\n      avatar: name.split(' ').map(w => w[0]).join('').slice(0, 2).toUpperCase(),\n      patientId: role === 'patient' ? `PAT-${Math.floor(10000 + Math.random() * 90000)}` : undefined,\n      employeeId: role !== 'patient' ? `EMP-${Math.floor(1000 + Math.random() * 9000)}` : undefined,\n      department: role === 'admin' ? 'Administration' : role === 'staff' ? 'General Medicine' : undefined,\n      bloodGroup: role === 'patient' ? 'Unknown' : undefined\n    };\n    MOCK_USERS.push({\n      ...newUser,\n      password\n    });\n    setUser(newUser);\n    return {\n      success: true,\n      user: newUser\n    };\n  };\n\n  // ── logout ───────────────────────────────────────────────\n  const logout = () => {\n    setUser(null);\n  };\n  return /*#__PURE__*/_jsxDEV(AuthContext.Provider, {\n    value: {\n      user,\n      loading,\n      login,\n      register,\n      logout\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 133,\n    columnNumber: 5\n  }, this);\n}\n_s(AuthProvider, \"mBSG6U4MNA+f91LhQkFc+r9y90c=\");\n_c = AuthProvider;\nexport function useAuth() {\n  _s2();\n  const ctx = useContext(AuthContext);\n  if (!ctx) throw new Error('useAuth must be used inside AuthProvider');\n  return ctx;\n}\n_s2(useAuth, \"/dMy7t63NXD4eYACoT93CePwGrg=\");\nvar _c;\n$RefreshReg$(_c, \"AuthProvider\");","map":{"version":3,"names":["React","createContext","useContext","useState","useEffect","jsxDEV","_jsxDEV","AuthContext","MOCK_USERS","id","name","email","password","role","department","avatar","employeeId","phone","specialization","patientId","dateOfBirth","bloodGroup","address","emergencyContact","relation","insurance","provider","policyNo","validity","STORAGE_KEY","loadSession","raw","localStorage","getItem","JSON","parse","saveSession","user","setItem","stringify","clearSession","removeItem","AuthProvider","children","_s","setUser","loading","setLoading","login","Promise","r","setTimeout","found","find","u","toLowerCase","success","error","_pw","safeUser","register","exists","newUser","Date","now","split","map","w","join","slice","toUpperCase","Math","floor","random","undefined","push","logout","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","useAuth","_s2","ctx","Error","$RefreshReg$"],"sources":["C:/Users/LENOVO/OneDrive/Desktop/HCI/src/contexts/AuthContext.jsx"],"sourcesContent":["import React, { createContext, useContext, useState, useEffect } from 'react';\n\nconst AuthContext = createContext(null);\n\n// ── Mock user database ──────────────────────────────────────\nconst MOCK_USERS = [\n  {\n    id: 'admin-001',\n    name: 'Dr. Sarah Mitchell',\n    email: 'admin@medcare.com',\n    password: 'admin123',\n    role: 'admin',\n    department: 'Administration',\n    avatar: 'SM',\n    employeeId: 'ADM-001',\n    phone: '+1 (555) 001-0001',\n  },\n  {\n    id: 'staff-001',\n    name: 'Dr. James Okafor',\n    email: 'staff@medcare.com',\n    password: 'staff123',\n    role: 'staff',\n    department: 'Cardiology',\n    avatar: 'JO',\n    employeeId: 'DOC-042',\n    specialization: 'Cardiologist',\n    phone: '+1 (555) 002-0042',\n  },\n  {\n    id: 'patient-001',\n    name: 'Ava Thompson',\n    email: 'patient@medcare.com',\n    password: 'patient123',\n    role: 'patient',\n    avatar: 'AT',\n    patientId: 'PAT-20890',\n    dateOfBirth: '1990-03-15',\n    bloodGroup: 'O+',\n    phone: '+1 (555) 100-2089',\n    address: '142 Maple Street, Chicago, IL 60601',\n    emergencyContact: { name: 'Robert Thompson', relation: 'Spouse', phone: '+1 (555) 100-9999' },\n    insurance: { provider: 'BlueCross BlueShield', policyNo: 'BCB-7734-2090', validity: '2025-12-31' },\n  },\n];\n\n// ── Helpers ─────────────────────────────────────────────────\nconst STORAGE_KEY = 'medcare_auth';\n\nfunction loadSession() {\n  try {\n    const raw = localStorage.getItem(STORAGE_KEY);\n    return raw ? JSON.parse(raw) : null;\n  } catch {\n    return null;\n  }\n}\n\nfunction saveSession(user) {\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(user));\n}\n\nfunction clearSession() {\n  localStorage.removeItem(STORAGE_KEY);\n}\n\n// ── Provider ─────────────────────────────────────────────────\nexport function AuthProvider({ children }) {\n  const [user, setUser] = useState(() => loadSession());\n  const [loading, setLoading] = useState(false);\n\n  // Keep localStorage in sync\n  useEffect(() => {\n    if (user) saveSession(user);\n    else clearSession();\n  }, [user]);\n\n  // ── login ────────────────────────────────────────────────\n  const login = async (email, password) => {\n    setLoading(true);\n    await new Promise(r => setTimeout(r, 700)); // simulate network\n\n    const found = MOCK_USERS.find(\n      u => u.email.toLowerCase() === email.toLowerCase() && u.password === password\n    );\n\n    setLoading(false);\n\n    if (!found) {\n      return { success: false, error: 'Invalid email or password. Please try again.' };\n    }\n\n    const { password: _pw, ...safeUser } = found;\n    setUser(safeUser);\n    return { success: true, user: safeUser };\n  };\n\n  // ── register ─────────────────────────────────────────────\n  const register = async ({ name, email, password, role }) => {\n    setLoading(true);\n    await new Promise(r => setTimeout(r, 800));\n\n    const exists = MOCK_USERS.find(u => u.email.toLowerCase() === email.toLowerCase());\n    setLoading(false);\n\n    if (exists) {\n      return { success: false, error: 'An account with this email already exists.' };\n    }\n\n    const newUser = {\n      id: `${role}-${Date.now()}`,\n      name,\n      email,\n      role,\n      avatar: name.split(' ').map(w => w[0]).join('').slice(0, 2).toUpperCase(),\n      patientId: role === 'patient' ? `PAT-${Math.floor(10000 + Math.random() * 90000)}` : undefined,\n      employeeId: role !== 'patient' ? `EMP-${Math.floor(1000 + Math.random() * 9000)}` : undefined,\n      department: role === 'admin' ? 'Administration' : role === 'staff' ? 'General Medicine' : undefined,\n      bloodGroup: role === 'patient' ? 'Unknown' : undefined,\n    };\n\n    MOCK_USERS.push({ ...newUser, password });\n    setUser(newUser);\n    return { success: true, user: newUser };\n  };\n\n  // ── logout ───────────────────────────────────────────────\n  const logout = () => {\n    setUser(null);\n  };\n\n  return (\n    <AuthContext.Provider value={{ user, loading, login, register, logout }}>\n      {children}\n    </AuthContext.Provider>\n  );\n}\n\nexport function useAuth() {\n  const ctx = useContext(AuthContext);\n  if (!ctx) throw new Error('useAuth must be used inside AuthProvider');\n  return ctx;\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}